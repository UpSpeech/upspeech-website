# UpSpeech Docker Environment Variables
# ===========================================
# This is the unified configuration file for ALL services in Docker development.
# Individual service .env files (app-backend/.env, app-frontend/.env) are NOT used in Docker.
# Docker Compose reads THIS file and passes variables to containers.

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
DATABASE_URL=postgresql://postgres:postgres@postgres:5432/upspeech_development
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres

# ===========================================
# RAILS BACKEND CONFIGURATION
# ===========================================

# Rails Master Key (required for encrypted credentials)
# Generate with: openssl rand -hex 32
RAILS_MASTER_KEY=your_rails_master_key_here

# Secret Key Base (required for secure sessions)
# Generate with: openssl rand -hex 64
SECRET_KEY_BASE=your_secret_key_base_here

# JWT Secret Key (required for JWT authentication)
# Generate with: openssl rand -hex 64
JWT_SECRET_KEY=your_jwt_secret_key_here

# Devise Secret Key (required for Devise sessions)
# Generate with: openssl rand -hex 64
DEVISE_SECRET_KEY=your_devise_secret_here

# ===========================================
# AI SERVICE CONFIGURATION
# ===========================================

# Groq API Key (required for transcription and AI report generation)
# Get your key from: https://console.groq.com/keys
GROQ_API_KEY=your_groq_api_key_here

# ===========================================
# GOOGLE CLOUD STORAGE (File Uploads)
# ===========================================
# IMPORTANT: Use DIFFERENT buckets for each environment to prevent data loss!
# Recommended naming: upspeech-{environment}
# Examples:
#   - Development: upspeech-dev
#   - Staging: upspeech-staging
#   - Production: upspeech-production

GCS_PROJECT_ID=serious-bearing-478818-q8
GCS_BUCKET=upspeech-dev
GCS_CREDENTIALS_PATH=config/gcp/service-account-key.json

# For production (Railway/Heroku), use base64-encoded JSON instead:
# GCS_CREDENTIALS_JSON=<base64_encoded_service_account_json>

# ===========================================
# AUDIO/VIDEO PROCESSING
# ===========================================

# Buffer time (in seconds) before/after disfluency annotation timestamps for clip extraction
# Default: 5 seconds
CLIP_BUFFER_SECONDS=5

# ===========================================
# CHATBOT CONFIGURATION (Therapist-only AI Assistant)
# ===========================================

# Backend: Maximum number of chat messages to keep in history
# Default: 15
CHAT_MESSAGE_HISTORY_LIMIT=15

# Frontend: Maximum number of chat messages to display
# Default: 15
VITE_CHAT_MESSAGE_LIMIT=15

# ===========================================
# FRONTEND CONFIGURATION
# ===========================================

# API Configuration (for frontend)
VITE_ACTION_CABLE_URL=ws://localhost:3000/cable

# Application name displayed in UI
VITE_APP_NAME=UpSpeech

# Application version
VITE_APP_VERSION=1.0.0

# ===========================================
# PRODUCTION URLs (for production deployment only)
# ===========================================
# Leave these as-is for local development
# Update for staging/production deployments

FRONTEND_URL=https://upspeech.app
BACKEND_URL=https://api.upspeech.app
